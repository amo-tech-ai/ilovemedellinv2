# Task 09: CRM & Business Suite

**Phase:** 4 - Business & CRM  
**Role:** Full Stack

## 1. Purpose
Allow businesses to manage leads generated by the platform.

## 2. Goals
- [ ] Build **Business Onboarding Wizard**.
- [ ] Build **CRM Dashboard** (Kanban).
- [ ] Implement AI **Lead Scoring**.

## 3. Screens & Routes
- `/app/crm`
    - **Left:** Pipeline Selector.
    - **Center:** Kanban Board (Draggable deals).
    - **Right:** Lead Details + AI Draft.

## 4. AI Feature: Lead Scorer
**Model:** `gemini-3-flash-preview`.
**Input:** Incoming message text.
**Output (Structured):**
```json
{
  "score": 85,
  "intent": "high",
  "budget_detected": true,
  "suggested_reply": "..."
}
```
**Trigger:** New row in `crm_messages`.

## 5. Backend Requirements
**Tables:**
- `business_profiles`
- `crm_contacts`
- `crm_deals` (Stages: New, Contacted, Tour, Won, Lost)
- `crm_messages`

## 6. Acceptance Criteria
- [ ] Business can claim profile.
- [ ] "Contact Us" on Place Detail creates a Lead in CRM.
- [ ] Lead shows an AI Score (0-100).
- [ ] Moving deal on Kanban updates DB stage.
